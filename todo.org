#+title: Todo

* TODO Fix hardcoded values for ~login~ server.
* TODO Read this
#+begin_src javascript
async function loginUser(credentials) {
  try {
    const response = await fetch('/api/user', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(credentials)
    });

    if (!response.ok) {
      throw new Error('Network response was not ok');
    }

    const data = await response.json();
    // Handle successful login, e.g., store token in local storage or state
    console.log("User logged in with token:", data.token);
    return data.token;
  } catch (error) {
    // Handle network errors or server errors
    console.error('Error logging in:', error.message);
    // Handle the error as needed, e.g., display an error message to the user
    throw error; // Re-throw the error to propagate it further if needed
  }
}

// Example usage:
const credentials = { username: 'example', password: 'password' };
loginUser(credentials)
  .then(token => {
    // Do something with the token, e.g., redirect to dashboard
  })
  .catch(error => {
    // Handle login error, e.g., display an error message to the user
  });
#+end_src
